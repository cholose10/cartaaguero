<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carta Digital</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f7f3f0; color:#333;}
    header { background:#8c6954; padding:10px; text-align:center;}
    header img { max-width:260px; height:auto; margin-bottom: 10px; } 
    
    /* ESTILOS DE BOT√ìN DE ACCI√ìN REFINADO */
    .action-button {
        display: block; 
        background: #e94e33; 
        color: #fff;
        padding: 10px 20px;
        text-decoration: none;
        border-radius: 8px;
        font-weight: bold;
        margin: 5px auto 0;
        max-width: 250px;
        transition: background 0.3s;
    }
    .action-button:hover {
        background: #dc3e2a; 
    }

    /* ESTILOS ORIGINALES DE LA CARTA */
    .categories { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin:10px;}
    .categories button { background:#8c6954; color:#fff; border:none; padding:10px 20px; border-radius:8px; cursor:pointer;}
    .categories button:hover { background:#6b4e3d;}
    .item-list { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin:20px;}
    .item { background:#fff; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,.1); width:260px; overflow:hidden;}
    .item img { width:100%; height:180px; object-fit:cover;}
    .item h3 { margin:10px; }
    .item p { margin:0 10px 10px;}
    .price { font-weight:bold; color:#000;}
  </style>
</head>
<body>
  <header>
    <img src="img/logo.png" alt="Logo del restaurante"> 
    
    <a href="https://search.google.com/local/writereview?placeid=ChIJC_K8HgDLvJURG3TozkYsSVA&source=g.page.m.ia._&utm_source=gbp&laa=nmx-review-solicitation-ia2" 
        target="_blank" 
        class="action-button">
        üìç ¬øC√≥mo llegar? Ver Ubicaci√≥n
    </a>
  </header>

  <div class="categories" id="category-buttons"></div>
  <div class="item-list" id="product-list"></div>

  <div style="text-align: center; margin: 30px auto; padding: 20px; background: #fff; border-radius: 12px; max-width: 90%; box-shadow: 0 4px 8px rgba(0,0,0,.1);">
    <h2>‚ú® ¬°Tu Foto, Nuestro Desayuno!</h2>
    <p>Sub√≠ tu mejor foto de tu visita directamente a Google Maps y gan√° un desayuno gratis.</p>
    
    <a href="https://www.google.com.ar/search?q=fotos+de+tilo+aguero&source=hp&gws_rd=cr&ei=...#lpg=cid:CgIgAQ%3D%3D&imgf=__photo_tab__" 
        target="_blank" 
        class="action-button" 
        style="max-width: 300px; background: #28a745;"> 
        Subir Foto a Google Maps üó∫Ô∏è
    </a>
    <p style="margin-top: 10px; font-size: 0.9em;">(Se abrir√° la secci√≥n de fotos de nuestro local.)</p>
  </div>
  <script>
    let productos = [];
    fetch('productos.json')
      .then(r=>r.json())
      .then(data=>{ productos=data; renderCategories(); renderProducts('Todos'); });

    function renderCategories(){
      const cats = ['Todos', ...new Set(productos.map(p=>p.categoria))];
      const cont=document.getElementById('category-buttons');
      cont.innerHTML='';
      cats.forEach(cat=>{
        const b=document.createElement('button');
        b.textContent=cat;
        b.onclick=()=>renderProducts(cat);
        cont.appendChild(b);
      });
    }
    
    // FUNCI√ìN DE RENDERIZADO MEJORADA
    function renderProducts(cat){
      const cont=document.getElementById('product-list');
      cont.innerHTML='';
      const list=cat==='Todos'? productos: productos.filter(p=>p.categoria===cat);
      list.forEach(p=>{
        const div=document.createElement('div');
        div.className='item';
        const precio=String(p.precio||'').startsWith('$')? p.precio: '$'+p.precio;
        
        // C√ìDIGO HTML DEL PRODUCTO, CON EL LLAMADO A LA ACCI√ìN
        div.innerHTML=`
          <img src="${p.imagen}" alt="${p.nombre}">
          <h3>${p.nombre}</h3>
          <p>${p.descripcion}</p>
          <p class="price">${precio}</p>
          <p style="margin: 0 10px 10px; font-size: 0.8em; color: #e94e33;">
            ‚ú® ¬°Sub√≠ tu foto y gan√°!
          </p>
        `;
        cont.appendChild(div);
      });
    }
  </script>
</body>
</html>
